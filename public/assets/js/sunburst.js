var data = [
    {
        "id": "0.0",
        "parent": "",
        "name": "Dataset"
    },
    {
        "id": "1.1",
        "parent": "0.0",
        "name": "Fake News"
    },
    {
        "id": "1.2",
        "parent": "0.0",
        "name": "Real News"
    },
    {
        "id": "2.1",
        "parent": "1.1",
        "name": "Joy",
        "value": 658
    },
    {
        "id": "3.1",
        "parent": "2.1",
        "name": "Sadness",
        "value": 564
    },
    {
        "id": "3.2",
        "parent": "2.1",
        "name": "Anger",
        "value": 22
    },
    {
        "id": "3.3",
        "parent": "2.1",
        "name": "Fear",
        "value": 11
    },
    {
        "id": "3.4",
        "parent": "2.1",
        "name": "Disgust",
        "value": 61
    },
    {
        "id": "2.2",
        "parent": "1.1",
        "name": "Sadness",
        "value": 957
    },
    {
        "id": "3.1",
        "parent": "2.2",
        "name": "Joy",
        "value": 470
    },
    {
        "id": "3.2",
        "parent": "2.2",
        "name": "Anger",
        "value": 92
    },
    {
        "id": "3.3",
        "parent": "2.2",
        "name": "Fear",
        "value": 79
    },
    {
        "id": "3.4",
        "parent": "2.2",
        "name": "Disgust",
        "value": 316
    },
    {
        "id": "2.3",
        "parent": "1.1",
        "name": "Anger",
        "value": 43
    },
    {
        "id": "3.1",
        "parent": "2.3",
        "name": "Joy",
        "value": 11
    },
    {
        "id": "3.2",
        "parent": "2.3",
        "name": "Sadness",
        "value": 24
    },
    {
        "id": "3.3",
        "parent": "2.3",
        "name": "Fear",
        "value": 0
    },
    {
        "id": "3.4",
        "parent": "2.3",
        "name": "Disgust",
        "value": 8
    },
    {
        "id": "2.4",
        "parent": "1.1",
        "name": "Fear",
        "value": 27
    },
    {
        "id": "3.1",
        "parent": "2.4",
        "name": "Joy",
        "value": 6
    },
    {
        "id": "3.2",
        "parent": "2.4",
        "name": "Sadness",
        "value": 20
    },
    {
        "id": "3.3",
        "parent": "2.4",
        "name": "Anger",
        "value": 1
    },
    {
        "id": "3.4",
        "parent": "2.4",
        "name": "Disgust",
        "value": 0
    },
    {
        "id": "2.5",
        "parent": "1.1",
        "name": "Disgust",
        "value": 257
    },
    {
        "id": "3.1",
        "parent": "2.5",
        "name": "Joy",
        "value": 51
    },
    {
        "id": "3.2",
        "parent": "2.5",
        "name": "Sadness",
        "value": 178
    },
    {
        "id": "3.3",
        "parent": "2.5",
        "name": "Anger",
        "value": 22
    },
    {
        "id": "3.4",
        "parent": "2.5",
        "name": "Fear",
        "value": 6
    },
    {
        "id": "4.1",
        "parent": "1.2",
        "name": "Joy",
        "value": 1117
    },
    {
        "id": "5.1",
        "parent": "4.1",
        "name": "Sadness",
        "value": 999
    },
    {
        "id": "5.2",
        "parent": "4.1",
        "name": "Anger",
        "value": 37
    },
    {
        "id": "5.3",
        "parent": "4.1",
        "name": "Fear",
        "value": 9
    },
    {
        "id": "5.4",
        "parent": "4.1",
        "name": "Disgust",
        "value": 72
    },
    {
        "id": "4.2",
        "parent": "1.2",
        "name": "Sadness",
        "value": 1182
    },
    {
        "id": "5.1",
        "parent": "4.2",
        "name": "Joy",
        "value": 602
    },
    {
        "id": "5.2",
        "parent": "4.2",
        "name": "Anger",
        "value": 151
    },
    {
        "id": "5.3",
        "parent": "4.2",
        "name": "Fear",
        "value": 87
    },
    {
        "id": "5.4",
        "parent": "4.2",
        "name": "Disgust",
        "value": 342
    },
    {
        "id": "4.3",
        "parent": "1.2",
        "name": "Anger",
        "value": 61
    },
    {
        "id": "5.1",
        "parent": "4.3",
        "name": "Joy",
        "value": 10
    },
    {
        "id": "5.2",
        "parent": "4.3",
        "name": "Sadness",
        "value": 36
    },
    {
        "id": "5.3",
        "parent": "4.3",
        "name": "Fear",
        "value": 1
    },
    {
        "id": "5.4",
        "parent": "4.3",
        "name": "Disgust",
        "value": 14
    },
    {
        "id": "4.4",
        "parent": "1.2",
        "name": "Fear",
        "value": 74
    },
    {
        "id": "5.1",
        "parent": "4.4",
        "name": "Joy",
        "value": 6
    },
    {
        "id": "5.2",
        "parent": "4.4",
        "name": "Sadness",
        "value": 56
    },
    {
        "id": "5.3",
        "parent": "4.4",
        "name": "Anger",
        "value": 6
    },
    {
        "id": "5.4",
        "parent": "4.4",
        "name": "Disgust",
        "value": 6
    },
    {
        "id": "4.5",
        "parent": "1.2",
        "name": "Disgust",
        "value": 264
    },
    {
        "id": "5.1",
        "parent": "4.5",
        "name": "Joy",
        "value": 56
    },
    {
        "id": "5.2",
        "parent": "4.5",
        "name": "Sadness",
        "value": 154
    },
    {
        "id": "5.3",
        "parent": "4.5",
        "name": "Anger",
        "value": 53
    },
    {
        "id": "5.4",
        "parent": "4.5",
        "name": "Fear",
        "value": 1
    }
];

// Splice in transparent for the center circle - questa riga infastidisce
//Highcharts.getOptions().colors.splice(0, 0, 'transparent');


Highcharts.chart('container3', {

    chart: {
        height: '100%'
    },

    title: {
        text: 'Sentiment Distribution over Tweets'
    },
    subtitle: {
        //text: 'Qualitative view (about a quarter of the dataset has been considered)'
    },
    series: [{
        type: "sunburst",
        data: data,
        allowDrillToNode: true,
        cursor: 'pointer',
        dataLabels: {
            format: '{point.name}',
            filter: {
                property: 'innerArcLength',
                operator: '>',
                value: 16
            }
        },
        levels: [{
            level: 1,
            levelIsConstant: false,
            dataLabels: {
                rotationMode: 'parallel',
                filter: {
                    property: 'outerArcLength',
                    operator: '>',
                    value: 64
                }
            }
        }, {
            level: 2,
            colorByPoint: true,
            dataLabels: {
                rotationMode: 'parallel'
            }
        },
            {
                level: 3,
                colorVariation: {
                    key: 'brightness',
                    to: -0.5
                }
            }, {
                level: 4,
                colorVariation: {
                    key: 'brightness',
                    to: 0.5
                }
            }
        ]

    }],
    tooltip: {
        headerFormat: "",
        //pointFormat: '<b>{point.name}</b>: <b>{point.value}</b>'
        pointFormat: '<b>{point.name}</b>'
    }
});